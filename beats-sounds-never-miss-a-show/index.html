
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Beats&amp;Sounds: never miss a show. Discover how it works</title>
    <meta name="description" content="Beats&amp;Sounds syncs with your Spotify account to give you a personalized list of concerts in your area based on the performer that you love.">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=60409459f9">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="index.html">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="cd my/experience/as/a/developer">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Beats&amp;Sounds: never miss a show. Discover how it works">
    <meta property="og:description" content="Beats&amp;Sounds syncs with your Spotify account to give you a personalized list of concerts in your area based on the performer that you love.">
    <meta property="og:url" content="http://localhost:2368/beats-sounds-never-miss-a-show/">
    <meta property="og:image" content="http://localhost:2368/content/images/2015/12/Screen-Shot-2015-11-17-at-21-07-26-2.png">
    <meta property="article:published_time" content="2015-11-19T01:55:00.000Z">
    <meta property="article:modified_time" content="2015-12-22T02:37:34.687Z">
    <meta property="article:tag" content="beats&amp;sounds">
    <meta property="article:tag" content="spotify">
    <meta property="article:tag" content="songkick">
    <meta property="article:tag" content="api">
    <meta property="article:tag" content="mysql">
    <meta property="article:tag" content="cron">
    <meta property="article:tag" content="music">
    <meta property="article:tag" content="database">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Beats&amp;Sounds: never miss a show. Discover how it works">
    <meta name="twitter:description" content="Beats&amp;Sounds syncs with your Spotify account to give you a personalized list of concerts in your area based on the performer that you love.">
    <meta name="twitter:url" content="http://localhost:2368/beats-sounds-never-miss-a-show/">
    <meta name="twitter:image:src" content="http://localhost:2368/content/images/2015/12/Screen-Shot-2015-11-17-at-21-07-26-2.png">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "cd my/experience/as/a/developer",
    "author": {
        "@type": "Person",
        "name": "Lorenzo De Nobili",
        "image": "http://localhost:2368/content/images/2015/12/IMG_5155.jpg",
        "url": "http://localhost:2368/author/lorenzo",
        "sameAs": "https://github.com/elledienne",
        "description": null
    },
    "headline": "Beats&amp;Sounds: never miss a show. Discover how it works",
    "url": "http://localhost:2368/beats-sounds-never-miss-a-show/",
    "datePublished": "2015-11-19T01:55:00.000Z",
    "dateModified": "2015-12-22T02:37:34.687Z",
    "image": "http://localhost:2368/content/images/2015/12/Screen-Shot-2015-11-17-at-21-07-26-2.png",
    "keywords": "beats&amp;sounds, spotify, songkick, api, mysql, cron, music, database",
    "description": "Beats&amp;Sounds syncs with your Spotify account to give you a personalized list of concerts in your area based on the performer that you love."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="cd my/experience/as/a/developer" href="../rss/index.html">
</head>
<body class="post-template tag-beats-sounds tag-spotify tag-songkick tag-api tag-mysql tag-cron tag-music tag-database nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="../">Home</a></li>
            <li class="nav-administration" role="presentation"><a href="../ghost">Administration</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="../rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head " style="background-image: url(../content/images/2015/12/Screen-Shot-2015-11-17-at-21-07-26-2.png)">
    <nav class="main-nav overlay clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-beats-sounds tag-spotify tag-songkick tag-api tag-mysql tag-cron tag-music tag-database">

        <header class="post-header">
            <h1 class="post-title">Beats&amp;Sounds: never miss a show</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2015-11-18">18 November 2015</time>  on <a href="../tag/beats-sounds/">beats&amp;sounds</a>, <a href="../tag/spotify/">spotify</a>, <a href="../tag/songkick/">songkick</a>, <a href="../tag/api/">api</a>, <a href="../tag/mysql/">mysql</a>, <a href="../tag/cron/">cron</a>, <a href="../tag/music/">music</a>, <a href="../tag/database/">database</a>
            </section>
        </header>

        <section class="post-content">
            <p>I'm really proud to present you our<sup id="fnref:1"><a href="index.html#fn:1" rel="footnote">1</a></sup> new creation: <strong>Beats&amp;Sounds</strong></p>

<h4 id="theidea">The idea</h4>

<p>Beats&amp;Sounds <strong>syncs with your Spotify account to give you a personalized list of concerts in your area</strong> (provided by <strong>SongKick</strong>). It doesn't matter how you prefer to use Spotify - whether you choose to follow particular artists or put together playlists with all your favorite tracks - we'll find the performers you love and make sure you know when they're touring near you. <br>
In addition to tracking your artists, we'll also show you concerts for similar artists that you might not have discovered yet. <br>
You might just find your next favorite band.</p>

<h4 id="thatscool">That's cool</h4>

<p>Yes, absolutely, it is!</p>

<h4 id="mycontribution">My contribution</h4>

<h6 id="theproblem">The problem</h6>

<p>When we started working at Beats&amp;Sounds I immediately recognized a problem. SongKick in fact only allows you to get the list of <strong>all</strong> the events planned for a specific area; that's not a problem if you are interested in what's going on in <a href="https://en.wikipedia.org/wiki/King_City,_California">King City</a>, but was quite an heavy job for bigger cities like San Francisco. And when i say <em>heavy job</em> i really mean it: around 15 (fifteen) seconds to complete.</p>

<p>That was unacceptable, it was completely killing the user experience</p>

<h4 id="thesolution">The solution</h4>

<p>The solution we came up with was (quite) simple but very efficient: creating a database acting like a cache, an intermediate storage level between the user and the SongKick API.</p>

<h4 id="theimplementation">The implementation</h4>

<p>I hardly wanted to use <strong>MySQL</strong> instead of MongoDB because our goal was <strong>performance</strong>, not easy implementation.</p>

<p>When i was finally able to convince all my pairs about the need of MySQL we started analyzing the structure of the SongKick's JSON response, and after that I designed the db <a href="https://github.com/chubbyoptometrist/Beats-and-Sounds/blob/master/server/db/schema.sql">schema</a>. <br>
Developing the db structure was a pretty long and tedious task, and we changed it's structure several time because we were not enough satisfied by it's behaviour and it's performance. But our hard job was payed: using our <em>database-cache system</em> allowed us to <strong>improve the responsiveness of our website by an amazing 95%</strong> !</p>

<h6 id="themaintenance">The maintenance</h6>

<p>Using API is (should) easy because you are simply asking for data to someone else and usually the the data sent back by the API is immediately sent to the user. It's like "<em>send this data to the user</em>". But what we did was completely different, our approach is "<em>send this data to me, i will rearrange it and then send it to the user</em>". <br>
The whole point is that now <strong>we are acting as intermediary</strong>, so it's our duty deciding what data to request from SK, it's our duty deciding when we should do that and it's our duty sending to the user always the as newest as possible data.</p>

<h6 id="meetstachanov">Meet Stachanov</h6>

<p>To handle all this work I created <a href="https://en.wikipedia.org/wiki/Alexey_Stakhanov">Stachanov</a>, a worker run using a <strong>Cron</strong> task that it's constantly checking our database looking for old entries to delete, inconsistency to remove and new data to store.</p>

<hr>

<p>I loved working on this project and I really hope i will find the time to keep working on it. <br>
Some feature that i'd like to add are:</p>

<ul>
<li>Ability to select a custom location</li>
<li>Instagram integration</li>
<li>Social sharing</li>
<li>Mobile app</li>
<li>Smart push notification</li>
</ul>

<p>The project is open source, so if you like the idea, we would love to see somebody else working on it!</p>

<p>Thank you and enjoy your music!</p>

<blockquote>
  <p>Oh, I also wrote an (i hope) amazing documentation about our database infrastructure that you can find <a href="https://github.com/chubbyoptometrist/Beats-and-Sounds/blob/master/server/db/DB-DOCUMENTATION.md"><strong>here</strong></a></p>
</blockquote>

<div class="footnotes"><ol><li class="footnote" id="fn:1"><p><a href="https://github.com/gelsto">Laura Gelston</a>, <a href="https://github.com/jeobrien">Jessica O'Brien</a>, <a href="https://github.com/aboutabel">Abel Wang</a> and of course <a href="https://github.com/elledienne">myself</a>. <a href="index.html#fnref:1" title="return to article">↩</a></p></li></ol></div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/lorenzo/" style="background-image: url(../content/images/2015/12/IMG_5155.jpg)"><span class="hidden">Lorenzo De Nobili's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/lorenzo/">Lorenzo De Nobili</a></h4>

                    <p>Read <a href="../author/lorenzo/">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">San Francisco, CA</span>
                    <span class="author-link icon-link"><a href="https://github.com/elledienne">https://github.com/elledienne</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Beats%26Sounds%3A%20never%20miss%20a%20show&amp;url=http://localhost:2368/beats-sounds-never-miss-a-show/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/beats-sounds-never-miss-a-show/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/beats-sounds-never-miss-a-show/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../i-like-the-way-you-move-it/">
        <section class="post">
            <h2>I like the way you move it!</h2>
            <p>If you are building a modern website or a mobile app you certainly need to animate some elements of…</p>
        </section>
    </a>
    <a class="read-next-story prev " style="background-image: url(../content/images/2015/12/grunt_work-1-1.jpg)" href="../automate-it-with-grunt/">
        <section class="post">
            <h2>Automate it with Grunt</h2>
            <p>As a developer you will realize that there are a lot of operations that you are doing every day,…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="../">cd my/experience/as/a/developer</a> © 2015 - <a href="https://www.flickr.com/photos/markjsebastian/13965306323/">Cover image by Mark Sebastian</a></section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    

    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=60409459f9"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=60409459f9"></script>

</body>
